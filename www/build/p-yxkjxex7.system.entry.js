var __awaiter=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n["throw"](e))}catch(t){o(t)}}function c(e){e.done?i(e.value):r(e.value).then(a,s)}c((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,r,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,r&&(o=a[0]&2?r["return"]:a[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;if(r=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:false};case 5:i.label++;r=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){i=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(a[0]===6&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}if(o[2])i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s];r=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var n=Array(e),r=0,t=0;t<i;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n};System.register(["./p-48a2f890.system.js","./p-56a0fcc9.system.js"],(function(e){"use strict";var t,i,n,r,o;return{setters:[function(e){t=e.r;i=e.h;n=e.g},function(e){r=e.e;o=e.a}],execute:function(){var a=e("web_map",function(){function e(e){var i=this;t(this,e);this.search=false;this.layerlist=false;this.legend=false;this.navigate=true;this.popup=true;this.filter=false;this.popupdocked=false;this.dockposition="auto";this.highlight=true;this.scene=false;this.basemapselect=false;this.collapsewidgets=true;this.darkMode=false;this.list=false;this.divId="";this.features=[];this.getRandomString=function(){var e=2147483648;return Math.floor(Math.random()*e).toString(36)+Math.abs(Math.floor(Math.random()*e)^+new Date).toString(36)};this.searchLoaded=function(e,t){if(i.address){e.search(i.address)}e.goToOverride=function(e,n){if(i.zoom){n.target.zoom=i.zoom}e.graphics.removeAll();e.graphics.add({symbol:{type:"simple-marker",path:"M15.65,36.85c1.9,2.3,4.47,4.93,7.8,7.45c0.49,0.37,0.99,0.73,1.51,1.09c0.54-0.37,1.07-0.75,1.58-1.14"+"c10.44-7.92,15.7-18.63,15.7-24.62c0-8.93-6.84-16.3-15.56-17.13c-0.54-0.05-1.09-0.08-1.64-0.08l0,0l0,0l0,0l0,0"+"c-0.72,0-1.42,0.06-2.11,0.14c-8.5,1.05-15.1,8.3-15.1,17.07C7.81,24.34,10.89,31.09,15.65,36.85z M22.91,4.38"+"c0.69-0.1,1.39-0.16,2.11-0.16c0.56,0,1.1,0.03,1.65,0.09c7.73,0.83,13.77,7.38,13.77,15.33c0,5.71-5.17,15.99-15.42,23.54"+"C14.77,35.63,9.6,25.35,9.6,19.64C9.6,11.85,15.4,5.41,22.91,4.38z"+"M25.11,9.97c-5.67,0-10.29,4.62-10.29,10.29s4.62,10.29,10.29,10.29S35.4,25.93,35.4,20.26"+"S30.79,9.97,25.11,9.97z M25.11,28.61c-4.6,0-8.35-3.74-8.35-8.35s3.74-8.35,8.35-8.35s8.35,3.74,8.35,8.35S29.72,28.61,25.11,28.61",size:24,color:t.map.basemap.title.toLowerCase().includes("dark")?"#FFFFFF":"#000000",outline:{color:t.map.basemap.title.toLowerCase().includes("dark")?"#FFFFFF":"#000000",width:"0.5px"},yoffset:4},geometry:n.target.target});return e.goTo(n.target,n.options)}};this.setPopupConfig=function(){return{highlightEnabled:i.highlight,dockEnabled:i.popupdocked,dockOptions:{position:i.dockposition,buttonEnabled:false,breakpoint:false}}};this.disableNavigation=function(e){e.ui.remove("zoom");e.on("drag",(function(e){e.stopPropagation()}));e.on("key-down",(function(e){var t=e.key;if(t.slice(0,5)==="Arrow"){e.stopPropagation()}var i=["+","-","Shift","_","="];var t=e.key;if(i.indexOf(t)!==-1){e.stopPropagation()}}));e.on("mouse-wheel",(function(e){e.stopPropagation()}));e.on("double-click",(function(e){e.stopPropagation()}));e.on("double-click",["Control"],(function(e){e.stopPropagation()}));e.on("drag",["Shift"],(function(e){e.stopPropagation()}));e.on("drag",["Shift","Control"],(function(e){e.stopPropagation()}))};this.featureClicked=function(e){debugger;i.mapView.goTo(e)}}e.prototype.initializeMap=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i,n,o,a;return __generator(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,r(["esri/WebMap","esri/Map","esri/views/MapView"])];case 1:e=s.sent(),t=e[0],i=e[1],n=e[2];o=void 0;if(this.mapId){o=new t({portalItem:{id:this.mapId}})}else{o=new i({basemap:this.basemap})}return[2,new n({map:o,container:this.divId,popup:this.setPopupConfig()})];case 2:a=s.sent();console.log("EsriLoader: ",a);return[3,3];case 3:return[2]}}))}))};e.prototype.initializeScene=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i,n,o,a;return __generator(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,r(["esri/WebMap","esri/WebScene","esri/views/SceneView"])];case 1:e=s.sent(),t=e[0],i=e[1],n=e[2];o=void 0;if(this.mapId){o=new t({portalItem:{id:this.mapId}})}if(this.sceneId){o=new i({portalItem:{id:this.sceneId}})}return[2,new n({map:o,container:this.element,popup:this.setPopupConfig()})];case 2:a=s.sent();console.log("EsriLoader: ",a);return[3,3];case 3:return[2]}}))}))};e.prototype.initializeSearch=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i,n;return __generator(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);return[4,r(["esri/widgets/Search"])];case 1:t=o.sent()[0];i=new t({view:e,container:document.createElement("div"),popupEnabled:this.popup,resultGraphicEnabled:false});if(this.search){e.ui.add({component:i,position:"top-left"})}return[2,i];case 2:n=o.sent();console.log("EsriLoader: ",n);return[3,3];case 3:return[2]}}))}))};e.prototype.initializeLayerList=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i,n,o,a;return __generator(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,r(["esri/widgets/LayerList","esri/widgets/Expand"])];case 1:t=s.sent(),i=t[0],n=t[1];o=new i({view:e,container:document.createElement("div")});if(this.collapsewidgets){e.ui.add({component:new n({view:e,group:"top-right",expandTooltip:"Layers",expandIconClass:"esri-icon-layers",content:o.domNode,expanded:this.expandedwidget==="layerlist"&&["xsmall"].indexOf(e.widthBreakpoint)===-1}),position:"top-right"})}else{e.ui.add({component:o,position:"top-right"})}return[3,3];case 2:a=s.sent();console.log("EsriLoader: ",a);return[3,3];case 3:return[2]}}))}))};e.prototype.initializeBaseMapGallery=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i,n,o,a;return __generator(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,r(["esri/widgets/BasemapGallery","esri/widgets/Expand"])];case 1:t=s.sent(),i=t[0],n=t[1];o=new i({view:e,container:document.createElement("div")});if(this.collapsewidgets){e.ui.add({component:new n({view:e,group:"top-right",expandTooltip:"Basemap Gallery",expandIconClass:"esri-icon-basemap",content:o.domNode,expanded:this.expandedwidget==="basemap"&&["xsmall"].indexOf(e.widthBreakpoint)===-1}),position:"top-right"})}else{e.ui.add({component:o,position:"top-right"})}return[3,3];case 2:a=s.sent();console.log("EsriLoader: ",a);return[3,3];case 3:return[2]}}))}))};e.prototype.initializeLegend=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i,n,o,a;return __generator(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,r(["esri/widgets/Legend","esri/widgets/Expand"])];case 1:t=s.sent(),i=t[0],n=t[1];o=new i({view:e,container:document.createElement("div")});if(this.collapsewidgets){e.ui.add({component:new n({view:e,group:"top-right",expandTooltip:"Legend",expandIconClass:"esri-icon-layer-list",content:o.domNode,expanded:this.expandedwidget==="legend"&&["xsmall"].indexOf(e.widthBreakpoint)===-1}),position:"top-right"})}else{e.ui.add({component:o,position:"top-right"})}return[3,3];case 2:a=s.sent();console.log("EsriLoader: ",a);return[3,3];case 3:return[2]}}))}))};e.prototype.query=function(e){var t=this;e.on("layerview-create",(function(i){if(i.layer.title===t.querylayer){if(t.filter){i.layer.definitionExpression=t.querywhere;i.layer.refresh()}i.layer.queryFeatures({where:t.querywhere,returnGeometry:true,outSpatialReference:e.spatialReference,outFields:["*"]}).then((function(i){if(i.features.length){var n={target:i.features};if(t.zoom){n.zoom=t.zoom}e.goTo(n,{duration:2500});if(t.popup){e.popup.open({features:i.features})}t.features=__spreadArrays(i.features)}}))}}))};e.prototype.componentDidLoad=function(){var e=this;this.divId=this.getRandomString();if(this.darkMode){o("https://js.arcgis.com/4.13/esri/themes/dark/main.css")}this.initializeMap().then((function(t){e.mapView=t;t.ui.remove("zoom");if(e.zoom&&!e.querylayer){t.zoom=e.zoom}if(e.querylayer&&e.querywhere){e.query(t)}if(!e.navigate){e.disableNavigation(t)}if(e.search||e.address){e.initializeSearch(t).then((function(i){return e.searchLoaded(i,t)}))}if(e.layerlist){e.initializeLayerList(t)}if(e.basemapselect){e.initializeBaseMapGallery(t)}if(e.legend){e.initializeLegend(t)}}))};e.prototype.loadFeatureWidget=function(e,t){r(["esri/widgets/Feature"]).then((function(i){var n=i[0];setTimeout((function(){var i=new n({container:e});i.graphic=t}),200)}))};e.prototype.render=function(){var e=this;if(this.list){return i("div",{class:"container"},i("div",{class:this.list?"list-mode map":"",id:this.divId}),i("div",{class:this.list?"list-mode list":""},this.features.map((function(t){return i("div",{onClick:function(){e.featureClicked(t)},id:e.divId+"_list_"+t.attributes["OBJECTID"]},e.loadFeatureWidget(e.divId+"_list_"+t.attributes["OBJECTID"],t))}))))}else{return i("div",{class:"container"},i("div",{id:this.divId}))}};Object.defineProperty(e.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"\@import url(\"https://js.arcgis.com/4.13/esri/themes/light/main.css\");.esri-view{height:100%;width:100%}.list-mode{max-height:50%;overflow:auto}\@media only screen and (min-width:800px){.list-mode.list{max-width:400px}.list-mode.list,.list-mode.map{max-height:100%;overflow:auto;float:left}.list-mode.map{max-width:calc(100% - 400px)}}:host{position:absolute;left:0;right:0;bottom:0;top:0}.container,body,html{height:100%;width:100%;margin:0;font-family:sans-serif}"},enumerable:true,configurable:true});return e}())}}}));